---
import Paragraph from "./Paragraph.astro";
import Subtitle from "./Subtitle";
import SimpleInteractiveExample from "./SimpleInteractiveExample";
import SimpleInteractiveExampleNoReset from "./SimpleInteractiveExampleNoReset";
---

<div class="mx-auto max-w-4xl flex flex-col gap-3.5">
  <Subtitle text="Usage" />

  <Paragraph>
    Manage multiple boolean flags in a single state object, with individual and
    batch updates, and optional reset to initial values.
  </Paragraph>

  <div class="space-y-12">
    <!-- Default behavior (reset=true) -->
    <div class="space-y-6">
      <h3 class="text-xl font-semibold text-gray-900 dark:text-white">
        Default Behavior (reset=true)
      </h3>
      <Paragraph>
        By default, when you update flags with <code class="bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-sm">setFlags()</code>, 
        all flags not specified in the update are reset to their initial values. This is useful when you want 
        to ensure a clean state for each operation.
      </Paragraph>
      
      <SimpleInteractiveExample client:only="react" />
      <p class="text-sm text-gray-600 dark:text-gray-400 italic">
        Notice how clicking any button resets other flags to their initial values (false).
      </p>
    </div>

    <!-- Preserve state behavior (reset=false) -->
    <div class="space-y-6">
      <h3 class="text-xl font-semibold text-gray-900 dark:text-white">
        Preserve State (reset=false)
      </h3>
      <Paragraph>
        When you set <code class="bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-sm">reset=false</code>, 
        only the flags you specify are updated, while all other flags maintain their current values. 
        This is perfect for complex UIs where you need to preserve existing state.
      </Paragraph>
      
      <SimpleInteractiveExampleNoReset client:only="react" />
      <p class="text-sm text-gray-600 dark:text-gray-400 italic">
        Notice how flags preserve their values when other flags are updated. Try enabling dark mode first, then other actions.
      </p>
    </div>
  </div>
</div>
